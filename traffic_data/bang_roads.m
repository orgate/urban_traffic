%/usr/local/matlab2010b
days=[1,2,3,4,5,8,9,10,11,12,15,17,18,19,22,23,24,25,26,29,30];
cty_tx_ind=cell(7,length(days));%storing the current day ind of  cities of bombay bangalore and delhi
for l=1:length(days)
    l1=days(l);

    

    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    %%%%%%%Commenting and rewriting the following lines  below %%%%%%%%%%%%    
    %if(l1~=16)
    %if (l1<10)
    % file=(['allcity_2013040' num2str(l1),'.dat']);%for loading the eventdata dat file
    %else
    % file=(['allcity_201304' num2str(l1),'.dat']);%for loading the eventdata dat file 
    %end
    
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    %%%%%%%%%%%%%%  Rewriting here (by Alfred)  %%%%%%%%%%%%%%%%%%%%%%%%%%%
    if((l1~=16) & (l1>10))
        file=(['allcity_201304' num2str(l1),'.dat']);                        %for loading the eventdata dat file
        %%%%%%%%%%%%%%% Rewriting ends  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        
        M=load(file);
        
        %MG road, Bangalore
%         lat_ind2=find(M(:,3)<12.976486);
%         lat_ind1=find(M(:,3)>12.972745);
%         long_ind2=find(M(:,4)<77.618028);
%         long_ind1=find(M(:,4)>77.602234);
%         slope1 = find();
%         slope2 = find();
        cty_tx_ind{1,l}=M(find((M(:,3)<12.976486)&(M(:,3)>12.972745)&(M(:,4)<77.618028)&(M(:,4)>77.602234)&((M(:,3)-12.972745)./(M(:,4)-77.618028)>-0.25)&((M(:,3)-12.972745)./(M(:,4)-77.618028)<-0.22)),:); % MG road
        cty_tx_ind{2,l}=M(find((M(:,3)<12.937195)&(M(:,3)>12.931894)&(M(:,4)<77.632365)&(M(:,4)>77.626956)&((M(:,3)-12.931894)./(M(:,4)-77.632365)>-0.99)&((M(:,3)-12.931894)./(M(:,4)-77.632365)<-0.97)),:); % Srinivagillu main road (80ft. road)
        cty_tx_ind{3,l}=M(find((M(:,3)<12.994287)&(M(:,3)>12.982945)&(M(:,4)<77.663509)&(M(:,4)>77.637549)&((M(:,3)-12.982945)./(M(:,4)-77.637549)>0.425)&((M(:,3)-12.982945)./(M(:,4)-77.637549)<0.45)),:); % SV road
        cty_tx_ind{4,l}=M(find((M(:,3)<13.135142)&(M(:,3)>13.107664)&(M(:,4)<77.617049)&(M(:,4)>77.602516)&((M(:,3)-13.107664)./(M(:,4)-77.602516)>1.87)&((M(:,3)-13.107664)./(M(:,4)-77.602516)<1.91)),:); % B'lre-Hyd highway (near Yelahanka)
        cty_tx_ind{5,l}=M(find((M(:,3)<12.960433)&(M(:,3)>12.959129)&(M(:,4)<77.659385)&(M(:,4)>77.643481)&((M(:,3)-12.959129)./(M(:,4)-77.659385)>-0.095)&((M(:,3)-12.959129)./(M(:,4)-77.659385)<-0.07)),:); % HAL - Old airport road
        cty_tx_ind{6,l}=M(find((M(:,3)<12.929472)&(M(:,3)>12.920936)&(M(:,4)<77.683891)&(M(:,4)>77.665852)&((M(:,3)-12.920936)./(M(:,4)-77.665852)>0.46)&((M(:,3)-12.920936)./(M(:,4)-77.665852)<0.485)),:); % Bellandur (Outer-Ring) road
        cty_tx_ind{7,l}=M(find((M(:,3)<12.948173)&(M(:,3)>12.917203)&(M(:,4)<77.580360)&(M(:,4)>77.579906)&((M(:,3)-12.917203)./(M(:,4)-77.580261)>24)&((M(:,3)-12.917203)./(M(:,4)-77.580261)<-24)),:); % Rashtra Vidyalaya road
        
        clear M;
    end                                                                     %no data in 16th of april 
end                                                                         %end for 30 days
save bangroads                                              %%%%%uncommented by Alfred
